{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateCredentialCreate = void 0;\nconst utils_1 = require(\"@xrplf/isomorphic/utils\");\nconst errors_1 = require(\"../../errors\");\nconst common_1 = require(\"./common\");\nconst MAX_URI_LENGTH = 256;\nfunction validateCredentialCreate(tx) {\n  (0, common_1.validateBaseTransaction)(tx);\n  (0, common_1.validateRequiredField)(tx, 'Account', common_1.isString);\n  (0, common_1.validateRequiredField)(tx, 'Subject', common_1.isString);\n  (0, common_1.validateCredentialType)(tx);\n  (0, common_1.validateOptionalField)(tx, 'Expiration', common_1.isNumber);\n  validateURI(tx.URI);\n}\nexports.validateCredentialCreate = validateCredentialCreate;\nfunction validateURI(URI) {\n  if (URI === undefined) {\n    return;\n  }\n  if (typeof URI !== 'string') {\n    throw new errors_1.ValidationError('CredentialCreate: invalid field URI');\n  }\n  if (URI.length === 0) {\n    throw new errors_1.ValidationError('CredentialCreate: URI cannot be an empty string');\n  } else if (URI.length > MAX_URI_LENGTH) {\n    throw new errors_1.ValidationError(`CredentialCreate: URI length must be <= ${MAX_URI_LENGTH}`);\n  }\n  if (!utils_1.HEX_REGEX.test(URI)) {\n    throw new errors_1.ValidationError('CredentialCreate: URI must be encoded in hex');\n  }\n}","map":{"version":3,"names":["utils_1","require","errors_1","common_1","MAX_URI_LENGTH","validateCredentialCreate","tx","validateBaseTransaction","validateRequiredField","isString","validateCredentialType","validateOptionalField","isNumber","validateURI","URI","exports","undefined","ValidationError","length","HEX_REGEX","test"],"sources":["/Users/caiyongsheng/Developer/nus_fintech_project/nus_fintech_gang_plus_side_characters/frontend/node_modules/xrpl/src/models/transactions/CredentialCreate.ts"],"sourcesContent":["import { HEX_REGEX } from '@xrplf/isomorphic/utils'\n\nimport { ValidationError } from '../../errors'\n\nimport {\n  BaseTransaction,\n  isNumber,\n  isString,\n  validateBaseTransaction,\n  validateCredentialType,\n  validateOptionalField,\n  validateRequiredField,\n} from './common'\n\nconst MAX_URI_LENGTH = 256\n\n/**\n * Creates a Credential object. It must be sent by the issuer.\n *\n * @category Transaction Models\n * */\nexport interface CredentialCreate extends BaseTransaction {\n  TransactionType: 'CredentialCreate'\n\n  /** The issuer of the credential. */\n  Account: string\n\n  /** The subject of the credential. */\n  Subject: string\n\n  /** A hex-encoded value to identify the type of credential from the issuer. */\n  CredentialType: string\n\n  /** Credential expiration. */\n  Expiration?: number\n\n  /** Additional data about the credential (such as a link to the VC document). */\n  URI?: string\n}\n\n/**\n * Verify the form and type of a CredentialCreate at runtime.\n *\n * @param tx - A CredentialCreate Transaction.\n * @throws When the CredentialCreate is Malformed.\n */\nexport function validateCredentialCreate(tx: Record<string, unknown>): void {\n  validateBaseTransaction(tx)\n\n  validateRequiredField(tx, 'Account', isString)\n\n  validateRequiredField(tx, 'Subject', isString)\n\n  validateCredentialType(tx)\n\n  validateOptionalField(tx, 'Expiration', isNumber)\n\n  validateURI(tx.URI)\n}\n\nfunction validateURI(URI: unknown): void {\n  if (URI === undefined) {\n    return\n  }\n\n  if (typeof URI !== 'string') {\n    throw new ValidationError('CredentialCreate: invalid field URI')\n  }\n\n  if (URI.length === 0) {\n    throw new ValidationError('CredentialCreate: URI cannot be an empty string')\n  } else if (URI.length > MAX_URI_LENGTH) {\n    throw new ValidationError(\n      `CredentialCreate: URI length must be <= ${MAX_URI_LENGTH}`,\n    )\n  }\n\n  if (!HEX_REGEX.test(URI)) {\n    throw new ValidationError('CredentialCreate: URI must be encoded in hex')\n  }\n}\n"],"mappings":";;;;;;AAAA,MAAAA,OAAA,GAAAC,OAAA;AAEA,MAAAC,QAAA,GAAAD,OAAA;AAEA,MAAAE,QAAA,GAAAF,OAAA;AAUA,MAAMG,cAAc,GAAG,GAAG;AAgC1B,SAAgBC,wBAAwBA,CAACC,EAA2B;EAClE,IAAAH,QAAA,CAAAI,uBAAuB,EAACD,EAAE,CAAC;EAE3B,IAAAH,QAAA,CAAAK,qBAAqB,EAACF,EAAE,EAAE,SAAS,EAAEH,QAAA,CAAAM,QAAQ,CAAC;EAE9C,IAAAN,QAAA,CAAAK,qBAAqB,EAACF,EAAE,EAAE,SAAS,EAAEH,QAAA,CAAAM,QAAQ,CAAC;EAE9C,IAAAN,QAAA,CAAAO,sBAAsB,EAACJ,EAAE,CAAC;EAE1B,IAAAH,QAAA,CAAAQ,qBAAqB,EAACL,EAAE,EAAE,YAAY,EAAEH,QAAA,CAAAS,QAAQ,CAAC;EAEjDC,WAAW,CAACP,EAAE,CAACQ,GAAG,CAAC;AACrB;AAZAC,OAAA,CAAAV,wBAAA,GAAAA,wBAAA;AAcA,SAASQ,WAAWA,CAACC,GAAY;EAC/B,IAAIA,GAAG,KAAKE,SAAS,EAAE;IACrB;;EAGF,IAAI,OAAOF,GAAG,KAAK,QAAQ,EAAE;IAC3B,MAAM,IAAIZ,QAAA,CAAAe,eAAe,CAAC,qCAAqC,CAAC;;EAGlE,IAAIH,GAAG,CAACI,MAAM,KAAK,CAAC,EAAE;IACpB,MAAM,IAAIhB,QAAA,CAAAe,eAAe,CAAC,iDAAiD,CAAC;GAC7E,MAAM,IAAIH,GAAG,CAACI,MAAM,GAAGd,cAAc,EAAE;IACtC,MAAM,IAAIF,QAAA,CAAAe,eAAe,CACvB,2CAA2Cb,cAAc,EAAE,CAC5D;;EAGH,IAAI,CAACJ,OAAA,CAAAmB,SAAS,CAACC,IAAI,CAACN,GAAG,CAAC,EAAE;IACxB,MAAM,IAAIZ,QAAA,CAAAe,eAAe,CAAC,8CAA8C,CAAC;;AAE7E","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}