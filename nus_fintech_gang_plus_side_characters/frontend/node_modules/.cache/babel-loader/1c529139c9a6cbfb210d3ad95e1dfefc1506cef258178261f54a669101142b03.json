{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BytesLookup = exports.Bytes = exports.FieldLookup = exports.XrplDefinitionsBase = void 0;\nconst bytes_1 = require(\"./bytes\");\nObject.defineProperty(exports, \"Bytes\", {\n  enumerable: true,\n  get: function () {\n    return bytes_1.Bytes;\n  }\n});\nObject.defineProperty(exports, \"BytesLookup\", {\n  enumerable: true,\n  get: function () {\n    return bytes_1.BytesLookup;\n  }\n});\nconst field_1 = require(\"./field\");\nObject.defineProperty(exports, \"FieldLookup\", {\n  enumerable: true,\n  get: function () {\n    return field_1.FieldLookup;\n  }\n});\nconst constants_1 = require(\"./constants\");\n/**\n * Stores the various types and fields for rippled to be used to encode/decode information later on.\n * XrplDefinitions should be instantiated instead of this class.\n */\nclass XrplDefinitionsBase {\n  /**\n   * Present rippled types in a typed and updatable format.\n   * For an example of the input format see `definitions.json`.\n   * To generate a new definitions file from rippled source code, use the tool at\n   * `packages/ripple-binary-codec/tools/generateDefinitions.js`.\n   *\n   * See the definitions.test.js file for examples of how to create your own updated definitions.json.\n   *\n   * @param enums - A json encoding of the core types, transaction types, transaction results, transaction names, and fields.\n   * @param types - A list of type objects with the same name as the fields defined.\n   *              You can use the coreTypes object if you are not adding new types.\n   */\n  constructor(enums, types) {\n    this.type = new bytes_1.BytesLookup(enums.TYPES, constants_1.TYPE_WIDTH);\n    this.ledgerEntryType = new bytes_1.BytesLookup(enums.LEDGER_ENTRY_TYPES, constants_1.LEDGER_ENTRY_WIDTH);\n    this.transactionType = new bytes_1.BytesLookup(enums.TRANSACTION_TYPES, constants_1.TRANSACTION_TYPE_WIDTH);\n    this.transactionResult = new bytes_1.BytesLookup(enums.TRANSACTION_RESULTS, constants_1.TRANSACTION_RESULT_WIDTH);\n    this.field = new field_1.FieldLookup(enums.FIELDS, enums.TYPES);\n    this.transactionNames = Object.entries(enums.TRANSACTION_TYPES).filter(([_key, value]) => value >= 0).map(([key, _value]) => key);\n    this.dataTypes = {}; // Filled in via associateTypes\n    this.associateTypes(types);\n    this.granularPermissions = {\n      TrustlineAuthorize: 65537,\n      TrustlineFreeze: 65538,\n      TrustlineUnfreeze: 65539,\n      AccountDomainSet: 65540,\n      AccountEmailHashSet: 65541,\n      AccountMessageKeySet: 65542,\n      AccountTransferRateSet: 65543,\n      AccountTickSizeSet: 65544,\n      PaymentMint: 65545,\n      PaymentBurn: 65546,\n      MPTokenIssuanceLock: 65547,\n      MPTokenIssuanceUnlock: 65548\n    };\n    const incrementedTransactionTypes = Object.fromEntries(Object.entries(enums.TRANSACTION_TYPES).map(([key, value]) => [key, value + 1]));\n    const combinedPermissions = Object.assign(Object.assign({}, this.granularPermissions), incrementedTransactionTypes);\n    this.delegatablePermissions = new bytes_1.BytesLookup(combinedPermissions, constants_1.DELEGATABLE_PERMISSIONS_WIDTH);\n  }\n  /**\n   * Associates each Field to a corresponding class that TypeScript can recognize.\n   *\n   * @param types a list of type objects with the same name as the fields defined.\n   *              Defaults to xrpl.js's core type definitions.\n   */\n  associateTypes(types) {\n    // Overwrite any existing type definitions with the given types\n    this.dataTypes = Object.assign({}, this.dataTypes, types);\n    Object.values(this.field).forEach(field => {\n      field.associatedType = this.dataTypes[field.type.name];\n    });\n    this.field['TransactionType'].associatedType = this.transactionType;\n    this.field['TransactionResult'].associatedType = this.transactionResult;\n    this.field['LedgerEntryType'].associatedType = this.ledgerEntryType;\n    if (this.field['PermissionValue']) {\n      this.field['PermissionValue'].associatedType = this.delegatablePermissions;\n    }\n  }\n  getAssociatedTypes() {\n    return this.dataTypes;\n  }\n}\nexports.XrplDefinitionsBase = XrplDefinitionsBase;","map":{"version":3,"names":["bytes_1","require","Object","defineProperty","exports","enumerable","get","Bytes","BytesLookup","field_1","FieldLookup","constants_1","XrplDefinitionsBase","constructor","enums","types","type","TYPES","TYPE_WIDTH","ledgerEntryType","LEDGER_ENTRY_TYPES","LEDGER_ENTRY_WIDTH","transactionType","TRANSACTION_TYPES","TRANSACTION_TYPE_WIDTH","transactionResult","TRANSACTION_RESULTS","TRANSACTION_RESULT_WIDTH","field","FIELDS","transactionNames","entries","filter","_key","value","map","key","_value","dataTypes","associateTypes","granularPermissions","TrustlineAuthorize","TrustlineFreeze","TrustlineUnfreeze","AccountDomainSet","AccountEmailHashSet","AccountMessageKeySet","AccountTransferRateSet","AccountTickSizeSet","PaymentMint","PaymentBurn","MPTokenIssuanceLock","MPTokenIssuanceUnlock","incrementedTransactionTypes","fromEntries","combinedPermissions","assign","delegatablePermissions","DELEGATABLE_PERMISSIONS_WIDTH","values","forEach","associatedType","name","getAssociatedTypes"],"sources":["/Users/caiyongsheng/Developer/nus_fintech_project/nus_fintech_gang_plus_side_characters/frontend/node_modules/ripple-binary-codec/src/enums/xrpl-definitions-base.ts"],"sourcesContent":["import { SerializedType } from '../types/serialized-type'\nimport { Bytes, BytesLookup } from './bytes'\nimport { FieldInfo, FieldLookup, FieldInstance } from './field'\nimport {\n  TYPE_WIDTH,\n  LEDGER_ENTRY_WIDTH,\n  TRANSACTION_TYPE_WIDTH,\n  TRANSACTION_RESULT_WIDTH,\n  DELEGATABLE_PERMISSIONS_WIDTH,\n} from './constants'\n\ninterface DefinitionsData {\n  TYPES: Record<string, number>\n  LEDGER_ENTRY_TYPES: Record<string, number>\n  FIELDS: (string | FieldInfo)[][]\n  TRANSACTION_RESULTS: Record<string, number>\n  TRANSACTION_TYPES: Record<string, number>\n}\n\n/**\n * Stores the various types and fields for rippled to be used to encode/decode information later on.\n * XrplDefinitions should be instantiated instead of this class.\n */\nclass XrplDefinitionsBase {\n  // A collection of fields that can be included in transactions\n  field: FieldLookup\n  // A collection of ids corresponding to types of ledger objects\n  ledgerEntryType: BytesLookup\n  // A collection of type flags used to determine how to serialize a field's data\n  type: BytesLookup\n  // Errors and result codes for transactions\n  transactionResult: BytesLookup\n  // Defined transactions that can be submitted to the ledger\n  transactionType: BytesLookup\n  // Valid transaction names\n  transactionNames: string[]\n  // Maps serializable types to their TypeScript class implementation\n  dataTypes: Record<string, typeof SerializedType>\n  // Maps granular permissions names to their corresponding integer ids\n  granularPermissions: Record<string, number>\n  // Defined delegatable permissions\n  delegatablePermissions: BytesLookup\n\n  /**\n   * Present rippled types in a typed and updatable format.\n   * For an example of the input format see `definitions.json`.\n   * To generate a new definitions file from rippled source code, use the tool at\n   * `packages/ripple-binary-codec/tools/generateDefinitions.js`.\n   *\n   * See the definitions.test.js file for examples of how to create your own updated definitions.json.\n   *\n   * @param enums - A json encoding of the core types, transaction types, transaction results, transaction names, and fields.\n   * @param types - A list of type objects with the same name as the fields defined.\n   *              You can use the coreTypes object if you are not adding new types.\n   */\n  constructor(\n    enums: DefinitionsData,\n    types: Record<string, typeof SerializedType>,\n  ) {\n    this.type = new BytesLookup(enums.TYPES, TYPE_WIDTH)\n    this.ledgerEntryType = new BytesLookup(\n      enums.LEDGER_ENTRY_TYPES,\n      LEDGER_ENTRY_WIDTH,\n    )\n    this.transactionType = new BytesLookup(\n      enums.TRANSACTION_TYPES,\n      TRANSACTION_TYPE_WIDTH,\n    )\n    this.transactionResult = new BytesLookup(\n      enums.TRANSACTION_RESULTS,\n      TRANSACTION_RESULT_WIDTH,\n    )\n    this.field = new FieldLookup(\n      enums.FIELDS as Array<[string, FieldInfo]>,\n      enums.TYPES,\n    )\n    this.transactionNames = Object.entries(enums.TRANSACTION_TYPES)\n      .filter(([_key, value]) => value >= 0)\n      .map(([key, _value]) => key)\n\n    this.dataTypes = {} // Filled in via associateTypes\n    this.associateTypes(types)\n\n    this.granularPermissions = {\n      TrustlineAuthorize: 65537,\n      TrustlineFreeze: 65538,\n      TrustlineUnfreeze: 65539,\n      AccountDomainSet: 65540,\n      AccountEmailHashSet: 65541,\n      AccountMessageKeySet: 65542,\n      AccountTransferRateSet: 65543,\n      AccountTickSizeSet: 65544,\n      PaymentMint: 65545,\n      PaymentBurn: 65546,\n      MPTokenIssuanceLock: 65547,\n      MPTokenIssuanceUnlock: 65548,\n    }\n\n    const incrementedTransactionTypes = Object.fromEntries(\n      Object.entries(enums.TRANSACTION_TYPES).map(([key, value]) => [\n        key,\n        value + 1,\n      ]),\n    )\n    const combinedPermissions = {\n      ...this.granularPermissions,\n      ...incrementedTransactionTypes,\n    }\n    this.delegatablePermissions = new BytesLookup(\n      combinedPermissions,\n      DELEGATABLE_PERMISSIONS_WIDTH,\n    )\n  }\n\n  /**\n   * Associates each Field to a corresponding class that TypeScript can recognize.\n   *\n   * @param types a list of type objects with the same name as the fields defined.\n   *              Defaults to xrpl.js's core type definitions.\n   */\n  public associateTypes(types: Record<string, typeof SerializedType>): void {\n    // Overwrite any existing type definitions with the given types\n    this.dataTypes = Object.assign({}, this.dataTypes, types)\n\n    Object.values(this.field).forEach((field) => {\n      field.associatedType = this.dataTypes[field.type.name]\n    })\n\n    this.field['TransactionType'].associatedType = this.transactionType\n    this.field['TransactionResult'].associatedType = this.transactionResult\n    this.field['LedgerEntryType'].associatedType = this.ledgerEntryType\n    if (this.field['PermissionValue']) {\n      this.field['PermissionValue'].associatedType = this.delegatablePermissions\n    }\n  }\n\n  public getAssociatedTypes(): Record<string, typeof SerializedType> {\n    return this.dataTypes\n  }\n}\n\nexport {\n  DefinitionsData,\n  XrplDefinitionsBase,\n  FieldLookup,\n  FieldInfo,\n  FieldInstance,\n  Bytes,\n  BytesLookup,\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}