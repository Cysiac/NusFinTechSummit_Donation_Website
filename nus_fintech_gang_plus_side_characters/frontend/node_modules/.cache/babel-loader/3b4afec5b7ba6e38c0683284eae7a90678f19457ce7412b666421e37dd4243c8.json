{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateClawback = void 0;\nconst errors_1 = require(\"../../errors\");\nconst common_1 = require(\"./common\");\nfunction validateClawback(tx) {\n  (0, common_1.validateBaseTransaction)(tx);\n  (0, common_1.validateRequiredField)(tx, 'Amount', common_1.isClawbackAmount);\n  (0, common_1.validateOptionalField)(tx, 'Holder', common_1.isAccount);\n  if (!(0, common_1.isIssuedCurrencyAmount)(tx.Amount) && !(0, common_1.isMPTAmount)(tx.Amount)) {\n    throw new errors_1.ValidationError('Clawback: invalid Amount');\n  }\n  if ((0, common_1.isIssuedCurrencyAmount)(tx.Amount) && tx.Account === tx.Amount.issuer) {\n    throw new errors_1.ValidationError('Clawback: invalid holder Account');\n  }\n  if ((0, common_1.isMPTAmount)(tx.Amount) && tx.Account === tx.Holder) {\n    throw new errors_1.ValidationError('Clawback: invalid holder Account');\n  }\n  if ((0, common_1.isIssuedCurrencyAmount)(tx.Amount) && tx.Holder) {\n    throw new errors_1.ValidationError('Clawback: cannot have Holder for currency');\n  }\n  if ((0, common_1.isMPTAmount)(tx.Amount) && !tx.Holder) {\n    throw new errors_1.ValidationError('Clawback: missing Holder');\n  }\n}\nexports.validateClawback = validateClawback;","map":{"version":3,"names":["errors_1","require","common_1","validateClawback","tx","validateBaseTransaction","validateRequiredField","isClawbackAmount","validateOptionalField","isAccount","isIssuedCurrencyAmount","Amount","isMPTAmount","ValidationError","Account","issuer","Holder","exports"],"sources":["/Users/caiyongsheng/Developer/nus_fintech_project/nus_fintech_gang_plus_side_characters/frontend/node_modules/xrpl/src/models/transactions/clawback.ts"],"sourcesContent":["import { ValidationError } from '../../errors'\nimport { ClawbackAmount } from '../common'\n\nimport {\n  BaseTransaction,\n  validateBaseTransaction,\n  isIssuedCurrencyAmount,\n  isMPTAmount,\n  isAccount,\n  validateOptionalField,\n  isClawbackAmount,\n  validateRequiredField,\n} from './common'\n\n/**\n * The Clawback transaction is used by the token issuer to claw back\n * issued tokens from a holder.\n */\nexport interface Clawback extends BaseTransaction {\n  TransactionType: 'Clawback'\n  /**\n   * Indicates the AccountID that submitted this transaction. The account MUST\n   * be the issuer of the currency or MPT.\n   */\n  Account: string\n  /**\n   * The amount of currency or MPT to clawback, and it must be non-XRP. The nested field\n   * names MUST be lower-case. If the amount is IOU, the `issuer` field MUST be the holder's address,\n   * whom to be clawed back.\n   */\n  Amount: ClawbackAmount\n  /**\n   * Indicates the AccountID that the issuer wants to clawback. This field is only valid for clawing back\n   * MPTs.\n   */\n  Holder?: string\n}\n\n/**\n * Verify the form and type of an Clawback at runtime.\n *\n * @param tx - An Clawback Transaction.\n * @throws When the Clawback is Malformed.\n */\nexport function validateClawback(tx: Record<string, unknown>): void {\n  validateBaseTransaction(tx)\n  validateRequiredField(tx, 'Amount', isClawbackAmount)\n  validateOptionalField(tx, 'Holder', isAccount)\n\n  if (!isIssuedCurrencyAmount(tx.Amount) && !isMPTAmount(tx.Amount)) {\n    throw new ValidationError('Clawback: invalid Amount')\n  }\n\n  if (isIssuedCurrencyAmount(tx.Amount) && tx.Account === tx.Amount.issuer) {\n    throw new ValidationError('Clawback: invalid holder Account')\n  }\n\n  if (isMPTAmount(tx.Amount) && tx.Account === tx.Holder) {\n    throw new ValidationError('Clawback: invalid holder Account')\n  }\n\n  if (isIssuedCurrencyAmount(tx.Amount) && tx.Holder) {\n    throw new ValidationError('Clawback: cannot have Holder for currency')\n  }\n\n  if (isMPTAmount(tx.Amount) && !tx.Holder) {\n    throw new ValidationError('Clawback: missing Holder')\n  }\n}\n"],"mappings":";;;;;;AAAA,MAAAA,QAAA,GAAAC,OAAA;AAGA,MAAAC,QAAA,GAAAD,OAAA;AAyCA,SAAgBE,gBAAgBA,CAACC,EAA2B;EAC1D,IAAAF,QAAA,CAAAG,uBAAuB,EAACD,EAAE,CAAC;EAC3B,IAAAF,QAAA,CAAAI,qBAAqB,EAACF,EAAE,EAAE,QAAQ,EAAEF,QAAA,CAAAK,gBAAgB,CAAC;EACrD,IAAAL,QAAA,CAAAM,qBAAqB,EAACJ,EAAE,EAAE,QAAQ,EAAEF,QAAA,CAAAO,SAAS,CAAC;EAE9C,IAAI,CAAC,IAAAP,QAAA,CAAAQ,sBAAsB,EAACN,EAAE,CAACO,MAAM,CAAC,IAAI,CAAC,IAAAT,QAAA,CAAAU,WAAW,EAACR,EAAE,CAACO,MAAM,CAAC,EAAE;IACjE,MAAM,IAAIX,QAAA,CAAAa,eAAe,CAAC,0BAA0B,CAAC;;EAGvD,IAAI,IAAAX,QAAA,CAAAQ,sBAAsB,EAACN,EAAE,CAACO,MAAM,CAAC,IAAIP,EAAE,CAACU,OAAO,KAAKV,EAAE,CAACO,MAAM,CAACI,MAAM,EAAE;IACxE,MAAM,IAAIf,QAAA,CAAAa,eAAe,CAAC,kCAAkC,CAAC;;EAG/D,IAAI,IAAAX,QAAA,CAAAU,WAAW,EAACR,EAAE,CAACO,MAAM,CAAC,IAAIP,EAAE,CAACU,OAAO,KAAKV,EAAE,CAACY,MAAM,EAAE;IACtD,MAAM,IAAIhB,QAAA,CAAAa,eAAe,CAAC,kCAAkC,CAAC;;EAG/D,IAAI,IAAAX,QAAA,CAAAQ,sBAAsB,EAACN,EAAE,CAACO,MAAM,CAAC,IAAIP,EAAE,CAACY,MAAM,EAAE;IAClD,MAAM,IAAIhB,QAAA,CAAAa,eAAe,CAAC,2CAA2C,CAAC;;EAGxE,IAAI,IAAAX,QAAA,CAAAU,WAAW,EAACR,EAAE,CAACO,MAAM,CAAC,IAAI,CAACP,EAAE,CAACY,MAAM,EAAE;IACxC,MAAM,IAAIhB,QAAA,CAAAa,eAAe,CAAC,0BAA0B,CAAC;;AAEzD;AAxBAI,OAAA,CAAAd,gBAAA,GAAAA,gBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}