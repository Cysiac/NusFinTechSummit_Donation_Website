{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateLoanBrokerSet = void 0;\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst errors_1 = require(\"../../errors\");\nconst common_1 = require(\"./common\");\nconst MAX_DATA_LENGTH = 512;\nconst MAX_MANAGEMENT_FEE_RATE = 10000;\nconst MAX_COVER_RATE_MINIMUM = 100000;\nconst MAX_COVER_RATE_LIQUIDATION = 100000;\nfunction validateLoanBrokerSet(tx) {\n  var _a, _b;\n  (0, common_1.validateBaseTransaction)(tx);\n  (0, common_1.validateRequiredField)(tx, 'VaultID', common_1.isString);\n  (0, common_1.validateOptionalField)(tx, 'LoanBrokerID', common_1.isString);\n  (0, common_1.validateOptionalField)(tx, 'Data', common_1.isString);\n  (0, common_1.validateOptionalField)(tx, 'ManagementFeeRate', common_1.isNumber);\n  (0, common_1.validateOptionalField)(tx, 'DebtMaximum', common_1.isXRPLNumber);\n  (0, common_1.validateOptionalField)(tx, 'CoverRateMinimum', common_1.isNumber);\n  (0, common_1.validateOptionalField)(tx, 'CoverRateLiquidation', common_1.isNumber);\n  if (!(0, common_1.isLedgerEntryId)(tx.VaultID)) {\n    throw new errors_1.ValidationError(`LoanBrokerSet: VaultID must be 64 characters hexadecimal string`);\n  }\n  if (tx.LoanBrokerID != null && !(0, common_1.isLedgerEntryId)(tx.LoanBrokerID)) {\n    throw new errors_1.ValidationError(`LoanBrokerSet: LoanBrokerID must be 64 characters hexadecimal string`);\n  }\n  if (tx.Data != null && !(0, common_1.validateHexMetadata)(tx.Data, MAX_DATA_LENGTH)) {\n    throw new errors_1.ValidationError(`LoanBrokerSet: Data must be a valid non-empty hex string up to ${MAX_DATA_LENGTH} characters`);\n  }\n  if (tx.ManagementFeeRate != null && (tx.ManagementFeeRate < 0 || tx.ManagementFeeRate > MAX_MANAGEMENT_FEE_RATE)) {\n    throw new errors_1.ValidationError(`LoanBrokerSet: ManagementFeeRate must be between 0 and ${MAX_MANAGEMENT_FEE_RATE} inclusive`);\n  }\n  if (tx.DebtMaximum != null && new bignumber_js_1.default(tx.DebtMaximum).isLessThan(0)) {\n    throw new errors_1.ValidationError('LoanBrokerSet: DebtMaximum must be a non-negative value');\n  }\n  if (tx.CoverRateMinimum != null && (tx.CoverRateMinimum < 0 || tx.CoverRateMinimum > MAX_COVER_RATE_MINIMUM)) {\n    throw new errors_1.ValidationError(`LoanBrokerSet: CoverRateMinimum must be between 0 and ${MAX_COVER_RATE_MINIMUM} inclusive`);\n  }\n  if (tx.CoverRateLiquidation != null && (tx.CoverRateLiquidation < 0 || tx.CoverRateLiquidation > MAX_COVER_RATE_LIQUIDATION)) {\n    throw new errors_1.ValidationError(`LoanBrokerSet: CoverRateLiquidation must be between 0 and ${MAX_COVER_RATE_LIQUIDATION} inclusive`);\n  }\n  const coverRateMinimumValue = (_a = tx.CoverRateMinimum) !== null && _a !== void 0 ? _a : 0;\n  const coverRateLiquidationValue = (_b = tx.CoverRateLiquidation) !== null && _b !== void 0 ? _b : 0;\n  if (coverRateMinimumValue === 0 && coverRateLiquidationValue !== 0 || coverRateMinimumValue !== 0 && coverRateLiquidationValue === 0) {\n    throw new errors_1.ValidationError('LoanBrokerSet: CoverRateMinimum and CoverRateLiquidation must both be zero or both be non-zero');\n  }\n}\nexports.validateLoanBrokerSet = validateLoanBrokerSet;","map":{"version":3,"names":["bignumber_js_1","__importDefault","require","errors_1","common_1","MAX_DATA_LENGTH","MAX_MANAGEMENT_FEE_RATE","MAX_COVER_RATE_MINIMUM","MAX_COVER_RATE_LIQUIDATION","validateLoanBrokerSet","tx","validateBaseTransaction","validateRequiredField","isString","validateOptionalField","isNumber","isXRPLNumber","isLedgerEntryId","VaultID","ValidationError","LoanBrokerID","Data","validateHexMetadata","ManagementFeeRate","DebtMaximum","default","isLessThan","CoverRateMinimum","CoverRateLiquidation","coverRateMinimumValue","_a","coverRateLiquidationValue","_b","exports"],"sources":["/Users/caiyongsheng/Developer/nus_fintech_project/nus_fintech_gang_plus_side_characters/frontend/node_modules/xrpl/src/models/transactions/loanBrokerSet.ts"],"sourcesContent":["import BigNumber from 'bignumber.js'\n\nimport { ValidationError } from '../../errors'\n\nimport {\n  BaseTransaction,\n  validateHexMetadata,\n  isLedgerEntryId,\n  isNumber,\n  isXRPLNumber,\n  validateBaseTransaction,\n  validateOptionalField,\n  isString,\n  validateRequiredField,\n  XRPLNumber,\n} from './common'\n\nconst MAX_DATA_LENGTH = 512\nconst MAX_MANAGEMENT_FEE_RATE = 10000\nconst MAX_COVER_RATE_MINIMUM = 100000\nconst MAX_COVER_RATE_LIQUIDATION = 100000\n\n/**\n * The transaction creates a new LoanBroker object or updates an existing one.\n *\n * @category Transaction Models\n */\nexport interface LoanBrokerSet extends BaseTransaction {\n  TransactionType: 'LoanBrokerSet'\n\n  /**\n   * The Vault ID that the Lending Protocol will use to access liquidity.\n   */\n  VaultID: string\n\n  /**\n   * The Loan Broker ID that the transaction is modifying.\n   */\n  LoanBrokerID?: string\n\n  /**\n   * Arbitrary metadata in hex format. The field is limited to 512 characters.\n   */\n  Data?: string\n\n  /**\n   * The 1/10th basis point fee charged by the Lending Protocol Owner. Valid values are between 0 and 10000 inclusive (1% - 10%).\n   */\n  ManagementFeeRate?: number\n\n  /**\n   * The maximum amount the protocol can owe the Vault.\n   * The default value of 0 means there is no limit to the debt. Must not be negative.\n   */\n  DebtMaximum?: XRPLNumber\n\n  /**\n   * The 1/10th basis point DebtTotal that the first loss capital must cover. Valid values are between 0 and 100000 inclusive.\n   */\n  CoverRateMinimum?: number\n\n  /**\n   * The 1/10th basis point of minimum required first loss capital liquidated to cover a Loan default.\n   * Valid values are between 0 and 100000 inclusive.\n   */\n  CoverRateLiquidation?: number\n}\n\n/**\n * Verify the form and type of an LoanBrokerSet at runtime.\n *\n * @param tx - LoanBrokerSet Transaction.\n * @throws When LoanBrokerSet is Malformed.\n */\n// eslint-disable-next-line max-statements, max-lines-per-function -- due to exhaustive validations\nexport function validateLoanBrokerSet(tx: Record<string, unknown>): void {\n  validateBaseTransaction(tx)\n\n  validateRequiredField(tx, 'VaultID', isString)\n  validateOptionalField(tx, 'LoanBrokerID', isString)\n  validateOptionalField(tx, 'Data', isString)\n  validateOptionalField(tx, 'ManagementFeeRate', isNumber)\n  validateOptionalField(tx, 'DebtMaximum', isXRPLNumber)\n  validateOptionalField(tx, 'CoverRateMinimum', isNumber)\n  validateOptionalField(tx, 'CoverRateLiquidation', isNumber)\n\n  if (!isLedgerEntryId(tx.VaultID)) {\n    throw new ValidationError(\n      `LoanBrokerSet: VaultID must be 64 characters hexadecimal string`,\n    )\n  }\n\n  if (tx.LoanBrokerID != null && !isLedgerEntryId(tx.LoanBrokerID)) {\n    throw new ValidationError(\n      `LoanBrokerSet: LoanBrokerID must be 64 characters hexadecimal string`,\n    )\n  }\n\n  if (tx.Data != null && !validateHexMetadata(tx.Data, MAX_DATA_LENGTH)) {\n    throw new ValidationError(\n      `LoanBrokerSet: Data must be a valid non-empty hex string up to ${MAX_DATA_LENGTH} characters`,\n    )\n  }\n\n  if (\n    tx.ManagementFeeRate != null &&\n    (tx.ManagementFeeRate < 0 || tx.ManagementFeeRate > MAX_MANAGEMENT_FEE_RATE)\n  ) {\n    throw new ValidationError(\n      `LoanBrokerSet: ManagementFeeRate must be between 0 and ${MAX_MANAGEMENT_FEE_RATE} inclusive`,\n    )\n  }\n\n  if (tx.DebtMaximum != null && new BigNumber(tx.DebtMaximum).isLessThan(0)) {\n    throw new ValidationError(\n      'LoanBrokerSet: DebtMaximum must be a non-negative value',\n    )\n  }\n\n  if (\n    tx.CoverRateMinimum != null &&\n    (tx.CoverRateMinimum < 0 || tx.CoverRateMinimum > MAX_COVER_RATE_MINIMUM)\n  ) {\n    throw new ValidationError(\n      `LoanBrokerSet: CoverRateMinimum must be between 0 and ${MAX_COVER_RATE_MINIMUM} inclusive`,\n    )\n  }\n\n  if (\n    tx.CoverRateLiquidation != null &&\n    (tx.CoverRateLiquidation < 0 ||\n      tx.CoverRateLiquidation > MAX_COVER_RATE_LIQUIDATION)\n  ) {\n    throw new ValidationError(\n      `LoanBrokerSet: CoverRateLiquidation must be between 0 and ${MAX_COVER_RATE_LIQUIDATION} inclusive`,\n    )\n  }\n\n  // Validate that either both CoverRateMinimum and CoverRateLiquidation are zero,\n  // or both are non-zero.\n  const coverRateMinimumValue = tx.CoverRateMinimum ?? 0\n  const coverRateLiquidationValue = tx.CoverRateLiquidation ?? 0\n\n  if (\n    (coverRateMinimumValue === 0 && coverRateLiquidationValue !== 0) ||\n    (coverRateMinimumValue !== 0 && coverRateLiquidationValue === 0)\n  ) {\n    throw new ValidationError(\n      'LoanBrokerSet: CoverRateMinimum and CoverRateLiquidation must both be zero or both be non-zero',\n    )\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}